<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <!-- Load Alpine.js for interactive components -->
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <!-- Load Font Awesome for the hamburger icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Jinja2 for dynamic page title and favicon -->
    <title>{{ title or Configs.ctf_name }} | Home</title>
    <link rel="shortcut icon" href="{{ Configs.ctf_small_icon }}" type="image/x-icon">
  {{ meta | safe }}

  <!-- {% block stylesheets %}
    {{ Assets.css("assets/scss/main.scss") }}
  {% endblock %}

  {{ Plugins.styles }}

  {{ Assets.js("assets/js/color_mode_switcher.js", type=None) }} -->
    <!-- {{ Configs.theme_header }} -->

    <style>
        .bg-video {
            width: 100%;
            height: auto;
            max-height: 1448px;
            position: absolute;
            top: 41px;
            left: 0;
            z-index: -9;
        }
        *{
            scroll-behavior: smooth;
        }

        :root {
            --blue: #007bff;
            --indigo: #6610f2;
            --purple: #6f42c1;
            --pink: #e83e8c;
            --red: #dc3545;
            --orange: #fd7e14;
            --yellow: #ffc107;
            --green: rgb(159, 239, 0);
            --green1:rgba(159, 239, 0, 0.158);
            --teal: #20c997;
            --cyan: #17a2b8;
            --white: #fff;
            --gray: #6c757d;
            --gray-dark: #343a40;
            --bg: #0b121f;
            --bg0: #0b121f9678;
            --primary: #007bff;
            --secondary: #6c757d;
            --success: #28a745;
            --info: #17a2b8;
            --warning: #ffc107;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #343a40;
            --breakpoint-xxxxs: 0;
            --breakpoint-xxxs: 320px;
            --breakpoint-xxs: 375px;
            --breakpoint-xs: 568px;
            --breakpoint-sm: 667px;
            --breakpoint-md: 768px;
            --breakpoint-lg: 992px;
            --p-surface-0: #ffffff;
            --p-slate-50: #f8fafc;
            --p-slate-100: #f1f5f9;
            --p-slate-200: #e2e8f0;
            --p-slate-300: #cbd5e1;
            --p-slate-400: #94a3b8;
            --p-slate-500: #64748b;
            --p-slate-600: #475569;
            --p-slate-700: #334155;
            --p-slate-800: #1e293b;
            --bg1: #101927;
            --bg2: #151f2e;
            --bg3: #1e2939;
            --border: #27313f;
            --p-slate-900: #0f172a;
            --p-slate-950: #020617;
            --breakpoint-xl: 1200px;
            --breakpoint-xxl: 1440px;
            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }

        .btn-primary {
            background-color: rgb(159, 239, 0);
            color: black;
            border-radius: 3px;
        }

        .btn-muted {
            background-color: #232e41;
            color: white;
            border-radius: 3px;
        }
        #home:target {
            scroll-margin-top: 80px; /* Adjust this value based on your navbar height */
        }
        #about:target {
            scroll-margin-top: 80px; /* Adjust this value based on your navbar height */
        }
        #testimanial:target {
            scroll-margin-top: 80px; /* Adjust this value based on your navbar height */
        }
    </style>

    <!-- Jinja2 JS variables for client-side logic -->
    <script type="text/javascript"> 
        window.init = {
            'urlRoot': "{{ request.script_root }}",
            'csrfNonce': "{{ Session.nonce }}",
            'userMode': "{{ Configs.user_mode }}",
            'userId': {{ Session.id }},
            'userName': {{ User.name | tojson }},
            'userEmail': {{ User.email | tojson }},
            'userVerified': {{ User.verified | tojson }},
            'teamId': {{ Team.id | tojson }},
            'teamName': {{ Team.name | tojson }},
            'start': {{ Configs.start | tojson }},
            'end': {{ Configs.end | tojson }},
            'themeSettings': {{ Configs.theme_settings | tojson }},
            'eventSounds': [
                "/themes/core/static/sounds/notification.webm",
                "/themes/core/static/sounds/notification.mp3",
            ],
        }
    </script>
</head>

<body class="text-white bg-[var(--bg)]" x-data="{ mobileMenuOpen: false, avatarMenuOpen: false }">
    <nav class="min-h-[80px] sticky top-0 bg-slate-800/50 backdrop-blur-lg  flex items-center justify-between px-10 relative z-10">
        <div class="logo font-bold">
            <a href="/" class="font-bold">
                {% if Configs.ctf_logo %}
                    <img src="{{ Configs.ctf_logo }}" alt="{{ Configs.ctf_name }}" class="h-8">
                {% else %}
                    Mile<span class="text-[var(--green)]">Box</span>
                {% endif %}
            </a>
        </div>
        <div class="flex gap-10 items-center">
            <!-- Desktop Navigation Links -->
            <ul class="hidden md:flex gap-4">
                <a href="#home" class="hover:text-[var(--green)] transition-colors">
                    Home
                </a>
                <a href="#about" class="hover:text-[var(--green)] transition-colors">
                    About
                </a>
                <a href="#testimanial" class="hover:text-[var(--green)] transition-colors">
                    Testimanial
                </a>
                {% if Session.id %}
                <a href="{{ url_for('teams.private') if Configs.user_mode == 'teams' else url_for('users.private') }}" class="hover:text-[var(--green)] transition-colors">
                    {% trans %}Profile{% endtrans %}
                </a>
                {% endif %}
            </ul>

            <!-- Mobile menu button -->
            <button @click="mobileMenuOpen = true" class="md:hidden text-2xl text-white">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Conditional rendering based on user login status -->
            {% if Session.id %}



            <!-- Notification Icon -->
            <div class="flex items-center">
           <div>
            <a href="{{ url_for('views.notifications') }}">
              
              <span class="d-sm-inline d-md-none d-lg-inline">
                  <i class="fas fa-bell pe-1"></i>
                  <span x-data x-show="$store.unread_count > 0" x-text="$store.unread_count" class="badge rounded-pill bg-danger badge-notification" style="position: relative;top: -10px;left: -15px;"></span>
              </span>
            </a>
            </div>

            <!-- User Avatar and Dropdown for logged-in users -->
            <div class="relative" @click.outside="avatarMenuOpen = false">
                <button @click="avatarMenuOpen = !avatarMenuOpen"
                    class="bg-yellow-300 size-10 rounded-full overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--green)]">
                    <img src="https://avatar.iran.liara.run/public"
                        class="size-full object-cover object-center" alt="User Avatar">
                </button>
                <!-- Dropdown Menu -->
                <div x-show="avatarMenuOpen" x-transition:enter="transition ease-out duration-200"
                    x-transition:enter-start="transform opacity-0 scale-95"
                    x-transition:enter-end="transform opacity-100 scale-100"
                    x-transition:leave="transition ease-in duration-75"
                    x-transition:leave-start="transform opacity-100 scale-100"
                    x-transition:leave-end="transform opacity-0 scale-95"
                    class="absolute right-0 mt-2 w-48 bg-slate-800 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
                    role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">
                    <div class="py-1" role="none">
                        <a href="{{ url_for('views.settings') }}"
                            class="block px-4 py-2 text-sm text-slate-200 hover:bg-slate-700" role="menuitem"
                            tabindex="-1">
                            {% trans %}Settings{% endtrans %}
                        </a>
                        <a href="{{ url_for('auth.logout') }}"
                            class="block px-4 py-2 text-sm text-slate-200 hover:bg-slate-700" role="menuitem"
                            tabindex="-1">
                            {% trans %}Logout{% endtrans %}
                        </a>
                    </div>
                </div>
            </div>
            </div>
            {% else %}
            <!-- Login/Create Account buttons for guests -->
            <div class="hidden md:flex gap-7">
                <a href="{{ url_for('auth.login') }}" class="btn-primary font-semibold block w-fit p-3 px-5 rounded-md">
                    {% trans %}Login Account{% endtrans %}
                </a>
            </div>
            {% endif %}
        </div>
    </nav>

    <!-- Full-screen Mobile Menu (hidden by default) -->
    <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 translate-x-full" x-transition:enter-end="opacity-100 translate-x-0"
        x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 translate-x-0"
        x-transition:leave-end="opacity-0 translate-x-full" class="fixed inset-0 z-20 bg-[var(--bg)] px-10 py-8 md:hidden"
        style="display: none;">
        <div class="flex justify-end">
            <button @click="mobileMenuOpen = false" class="text-3xl text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="flex flex-col gap-6 mt-8 text-xl">
            
                <a href="#home" @click="mobileMenuOpen = false" class="hover:text-[var(--green)] transition-colors">
                    Home
                </a>
                <a href="#about" @click="mobileMenuOpen = false" class="hover:text-[var(--green)] transition-colors">
                    About
                </a>
                <a href="#testimanial" @click="mobileMenuOpen = false" class="hover:text-[var(--green)] transition-colors">
                    Testimanial
                </a>
            {% if Session.id %}
            <a href="{{ url_for('teams.private') if Configs.user_mode == 'teams' else url_for('users.private') }}" class="hover:text-[var(--green)] transition-colors">
                {% trans %}Profile{% endtrans %}
            </a>
            <hr class="border-t border-slate-700" />
            <a href="{{ url_for('auth.logout') }}" class="hover:text-[var(--green)] transition-colors">
                {% trans %}Logout{% endtrans %}
            </a>
            {% else %}
            <hr class="border-t border-slate-700" />
            <a href="{{ url_for('auth.login') }}" class="hover:text-[var(--green)] transition-colors">
                {% trans %}Login Account{% endtrans %}
            </a>
            <a href="{{ url_for('auth.register') }}" class="hover:text-[var(--green)] transition-colors">
                {% trans %}Create Account{% endtrans %}
            </a>
            {% endif %}
        </div>
    </div>

    <!-- Main Content Block -->
    <main class="page-wrapper">
        <div class="page-body">
            {% block content %}
            {% endblock %}

            {% include "components/snackbar.html" %}
        </div>

    <footer class="text-center py-5 text-sm text-slate-600">
        <p>copyright &copy; Designed by Nkiko Hertier</p>
    </footer>
    </main>
    <!-- {% include "components/notifications.html" %} -->

{% block scripts %}
  {{ Assets.js("assets/js/page.js") }}
{% endblock %}

{{ Plugins.scripts }}

{{ Configs.theme_footer }}
</body>

</html>
