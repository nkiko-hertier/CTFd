{% extends "base.html" %}

{% block content %}
  <!-- Modern hero section with Tabler styling -->
  <div class="page page-center">
    <div class="container container-tight py-4">
      <div class="text-center mb-4">
        {% if Configs.ctf_logo %}
          <img src="{{ Configs.ctf_logo }}" height="64" alt="{{ Configs.ctf_name }}" class="mb-3">
        {% endif %}
        <h1 class="h2 text-muted">{% trans %}Sign in to your account{% endtrans %}</h1>
      </div>
      
      <div class="card card-md">
        <div class="card-body">
          {% include "components/errors.html" %}

          {% if integrations.mlc() %}
            <div class="mb-3">
              <a class="btn btn-outline-primary w-100" href="{{ url_for('auth.oauth_login') }}">
                <svg class="icon me-2" width="24" height="24">
                  <use href="#tabler-brand-oauth"></use>
                </svg>
                Login with Major League Cyber
              </a>
            </div>
            <div class="hr-text">or</div>
          {% endif %}

          {% with form = Forms.auth.LoginForm() %}
            <form method="post" accept-charset="utf-8" autocomplete="off">
              <div class="mb-3">
                <label class="form-label">{{ form.name.label.text }}</label>
                {{ form.name(class="form-control", value=name, autocomplete="username email", placeholder="Enter username or email") }}
              </div>

              <div class="mb-2">
                <label class="form-label">
                  {{ form.password.label.text }}
                  <span class="form-label-description">
                    <a href="{{ url_for('auth.reset_password') }}">{% trans %}Forgot password?{% endtrans %}</a>
                  </span>
                </label>
                {{ form.password(class="form-control", value=password, autocomplete="current-password", placeholder="Enter password") }}
              </div>

              <div class="form-footer">
                {{ form.submit(class="btn btn-primary w-100") }}
              </div>

              {{ form.nonce() }}
            </form>
          {% endwith %}
        </div>
      </div>
      
      <div class="text-center text-muted mt-3">
        {% trans %}Don't have account yet?{% endtrans %} 
        <a href="{{ url_for('auth.register') }}" tabindex="-1">{% trans %}Sign up{% endtrans %}</a>
      </div>
    </div>
  </div>
{% endblock %}
